<!--
  Example context file for Tomcat 6.

  Copy to ${CATALINA_HOME}/conf/Catalina/localhost/<name-of-war>.xml

  Modify the username/password and url to reflect whatever database should be used.

  Note: We want the default database engine used to be InnoDB, which is what the
  sessionVariable setting in the url should do.

  This is only necessary for pre Mysql-5.5.5 though, as from 5.5.5 onwards InnoDb is
  the default database engine.

 -->
<Context>

    <!-- maxActive: Maximum number of database connections in pool. Make sure you
         configure your mysqld max_connections large enough to handle
         all of your db connections. Set to -1 for no limit.
         -->

    <!-- maxIdle: Maximum number of idle database connections to retain in pool.
         Set to -1 for no limit.  See also the DBCP documentation on this
         and the minEvictableIdleTimeMillis configuration parameter.
         -->

    <!-- maxWait: Maximum time to wait for a database connection to become available
         in ms, in this example 10 seconds. An Exception is thrown if
         this timeout is exceeded.  Set to -1 to wait indefinitely.
         -->


  <Resource name="jdbc/MessageboxDataSource" auth="Container" type="javax.sql.DataSource"
               username="messageboxuser" password="messageboxpassword"
               driverClassName="com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource"
               url="jdbc:mysql://localhost:3306/messagebox?autoReconnect=true&amp;sessionVariables=storage_engine=InnoDB"
               maxActive="100" maxIdle="30" maxWait="10000"
          />

</Context>