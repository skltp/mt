<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="MessageBox" resourceRoot="" soapui-version="4.6.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="ProjectSettings@hermesConfig">${#System#user.home}\.hermes</con:setting></con:settings><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="ReceiveMessageHttpServiceSoapBinding" type="wsdl" bindingName="{http://services.messagebox.skltp.se/}ReceiveMessageHttpServiceSoapBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/message-ws/ws/ReceiveMessage?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/message-ws/ws/ReceiveMessage?wsdl"><con:part><con:url>http://localhost:8081/message-ws/ws/ReceiveMessage?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="ReceiveMessageHttpService" targetNamespace="http://services.messagebox.skltp.se/" xmlns:ns1="http://schemas.xmlsoap.org/soap/http" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://services.messagebox.skltp.se/" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xsd:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://services.messagebox.skltp.se/">
      <xsd:element name="invoke" nillable="true" type="xsd:anyType"/>
      <xsd:element name="invokeResponse" nillable="true" type="xsd:anyType"/>
    </xsd:schema>
  </wsdl:types>
  <wsdl:message name="invokeResponse">
    <wsdl:part element="tns:invokeResponse" name="invokeResponse"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="invoke">
    <wsdl:part element="tns:invoke" name="invoke"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="ReceiveMessagesImpl">
    <wsdl:operation name="invoke">
      <wsdl:input message="tns:invoke" name="invoke"></wsdl:input>
      <wsdl:output message="tns:invokeResponse" name="invokeResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="ReceiveMessageHttpServiceSoapBinding" type="tns:ReceiveMessagesImpl">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="invoke">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="invoke">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="invokeResponse">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="ReceiveMessageHttpService">
    <wsdl:port binding="tns:ReceiveMessageHttpServiceSoapBinding" name="ReceiveMessage">
      <soap:address location="http://localhost:8081/message-ws/ws/ReceiveMessage"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-1</con:endpoint><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-2</con:endpoint><con:endpoint>${endpoint}/ReceiveMessage/${targetSystem}</con:endpoint><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint></con:endpoints><con:operation isOneWay="false" action="" name="invoke" bindingOperationName="invoke" type="Request-Response" outputName="invokeResponse" inputName="invoke" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request-Question-hsaid-1-org1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-1</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterMedicalCertificateResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>org1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-Question-hsaid-2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-2</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterMedicalCertificateResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-Question-hsaid-1-org2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-1</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterMedicalCertificateResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>org2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion2</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-Question-Param-1-1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-1</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterMedicalCertificateResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>org1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="ListMessagesResponderBinding" type="wsdl" bindingName="{urn:riv:itintegration:messagebox:ListMessages:1:rivtabp21}ListMessagesResponderBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/ws/ListMessages/1/rivtabp21?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/ws/ListMessages/1/rivtabp21?wsdl"><con:part><con:url>http://localhost:8081/ws/ListMessages/1/rivtabp21?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="ListMessagesInteraction" targetNamespace="urn:riv:itintegration:messagebox:ListMessages:1:rivtabp21" xmlns:itr="urn:riv:itintegration:registry:1" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tjsi="urn:riv:itintegration:messagebox:ListMessagesInitiator:1" xmlns:tjsr="urn:riv:itintegration:messagebox:ListMessagesResponder:1" xmlns:tns="urn:riv:itintegration:messagebox:ListMessages:1:rivtabp21" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xs:schema targetNamespace="urn:riv:itintegration:messagebox:ListMessages:1:rivtabp21">
      <xs:import namespace="urn:riv:itintegration:messagebox:ListMessagesResponder:1" schemaLocation="http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=ListMessagesResponder_1.0.xsd"/>
      <xs:import namespace="urn:riv:itintegration:registry:1" schemaLocation="http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="ListMessagesResponse">
    <wsdl:part element="tjsr:ListMessagesResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="ListMessagesRequest">
    <wsdl:part element="itr:LogicalAddress" name="LogicalAddress">
      <wsdl:documentation>The organisation number of the National Service Platform</wsdl:documentation>
    </wsdl:part>
    <wsdl:part element="tjsr:ListMessages" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="ListMessagesResponderInterface">
    <wsdl:operation name="ListMessages">
      <wsdl:input message="tns:ListMessagesRequest"></wsdl:input>
      <wsdl:output message="tns:ListMessagesResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="ListMessagesResponderBinding" type="tns:ListMessagesResponderInterface">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="ListMessages">
      <soap:operation soapAction="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages" style="document"/>
      <wsdl:input>
        <soap:header message="tns:ListMessagesRequest" part="LogicalAddress" use="literal"></soap:header>
        <soap:body parts="parameters" use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="ListMessagesResponderService">
    <wsdl:port binding="tns:ListMessagesResponderBinding" name="ListMessagesResponderPort">
      <soap:address location="http://localhost:8081/ws/ListMessages/1/rivtabp21"/>
    </wsdl:port>
  </wsdl:service>
  <xs:annotation>
    <xs:documentation>Tjänsteinteraktionens namn: ListMessagesInteraction
			 Beskrivning: 
			   Request a list of messages queued for the caller
			 Revisioner: 
			 Tjänstedomän: itintegration:messagebox
			 Tjänsteinteraktionstyp: Fråga-Svar
			 WS-profil: RIVTABP21
			 Förvaltas av: Sveriges Kommuner och Landsting</xs:documentation>
  </xs:annotation>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=ListMessagesResponder_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one or more contributor 
	license agreements. See the NOTICE file distributed with this work for additional 
	information regarding copyright ownership. Sveriges Kommuner och Landsting 
	licenses this file to you under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License. You may 
	obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
	Unless required by applicable law or agreed to in writing, software distributed 
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES 
	OR CONDITIONS OF ANY KIND, either express or implied. See the License for 
	the specific language governing permissions and limitations under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:ListMessagesResponder:1" version="1.0" xmlns:mb="urn:riv:itintegration:messagebox:1" xmlns:reg="urn:riv:itintegration:registry:1" xmlns:tns="urn:riv:itintegration:messagebox:ListMessagesResponder:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="urn:riv:itintegration:messagebox:1" schemaLocation="http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd"/>
  <xs:element name="ListMessages" type="tns:ListMessagesType"/>
  <xs:element name="ListMessagesResponse" type="tns:ListMessagesResponseType"/>
  <xs:complexType name="ListMessagesType">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="targetOrganizations" type="reg:LogicalAddressType"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="serviceContractTypes" type="reg:ServiceContractType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ListMessagesResponseType">
    <xs:sequence>
      <xs:element name="result" type="mb:ResultType"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="messageMetas" type="mb:MessageMetaType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:1" version="1.0" xmlns:reg="urn:riv:itintegration:registry:1" xmlns:tns="urn:riv:itintegration:messagebox:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: Gemensamma element för itintegration_messagebox
            Revisioner:
            2013-09-09: Initial version (Mats Olsson, Callista Enterprise AB)</xs:documentation>
  </xs:annotation>
  <xs:complexType name="MessageMetaType">
    <xs:sequence>
      <xs:element name="messageId" type="xs:long"/>
      <xs:element name="targetOrganization" type="reg:LogicalAddressType"/>
      <xs:element name="serviceContractType" type="xs:string"/>
      <xs:element name="messageSize" type="xs:long"/>
      <xs:element name="arrivalTime" type="xs:dateTime"/>
      <xs:element name="status" type="tns:MessageStatusType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="MessageStatusType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="RECEIVED"/>
      <xs:enumeration value="RETRIEVED"/>
      <xs:enumeration value="DELETED"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ResultType">
    <xs:annotation>
      <xs:documentation>Gemensam resultatkod. Om code är OK är övriga fält tomma.
                Om code är "INFO" eller ERROR kan information skickas i errorId och/eller
                errorMessage.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="tns:ResultCodeEnum"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorId" type="xs:int"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorMessage" type="xs:string"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="ResultCodeEnum">
    <xs:restriction base="xs:string">
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
      <xs:enumeration value="INFO"/>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/ListMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:registry:1" version="1.0" xmlns="urn:riv:itintegration:registry:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: 	Grundl��ggande informationsobjekt f��r dom��nen itintegration:registry (adressering av tj��nster)
			
			Revisionshistorik: 2011-06-27 Mats Ekhammar, Callista Enterprise AB
				Added ServiceContractType
			
			Datum:			2011-05-04
			Beskrivning:	Initial version
			F��rfattare:		marcus.krantz@callistaenterprise.se</xs:documentation>
  </xs:annotation>
  <xs:element name="LogicalAddress" type="LogicalAddressType"/>
  <xs:element name="ServiceContract" type="ServiceContractType"/>
  <xs:simpleType name="LogicalAddressType">
    <xs:annotation>
      <xs:documentation>Defines the type for logical address according to national reference architecture.
				Superseeds wsa:To as type for logical address header in RIVTA 2.1.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string"/>
  </xs:simpleType>
  <xs:complexType name="ServiceContractType">
    <xs:annotation>
      <xs:documentation>Type which describes a service contract. Used in interaction GetSupportedServiceContracts.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ServiceContractNamespace" type="xs:anyURI"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/message-ws/ws/ListMessages/1/rivtabp21</con:endpoint><con:endpoint>${endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:endpoint>http://localhost:8081/ws/ListMessages/1/rivtabp21</con:endpoint></con:endpoints><con:operation isOneWay="false" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages" name="ListMessages" bindingOperationName="ListMessages" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request-hsaid-1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <!--Optional:- ->
         <urn1:targetOrganization>?</urn1:targetOrganization>
         <!- -Zero or more repetitions:- ->
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>?</urn:ServiceContractNamespace>
            <!- -You may enter ANY elements at this point- ->
         </urn1:serviceContractTypes>
         <!- -You may enter ANY elements at this point-->
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-hsaid-2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-2" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>INERA</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
     </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-TestCase1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <!--Optional:- ->
         <urn1:targetOrganization>?</urn1:targetOrganization>
         <!- -Zero or more repetitions:- ->
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>?</urn:ServiceContractNamespace>
            <!- -You may enter ANY elements at this point- ->
         </urn1:serviceContractTypes>
         <!- -You may enter ANY elements at this point-->
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <!--Zero or more repetitions:-->
         <urn1:targetOrganizations>?</urn1:targetOrganizations>
         <!--Zero or more repetitions:-->
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>?</urn:ServiceContractNamespace>
            <!--You may enter ANY elements at this point-->
         </urn1:serviceContractTypes>
         <!--You may enter ANY elements at this point-->
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="GetMessagesResponderBinding" type="wsdl" bindingName="{urn:riv:itintegration:messagebox:GetMessages:1:rivtabp21}GetMessagesResponderBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/ws/GetMessages/1/rivtabp21?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/ws/GetMessages/1/rivtabp21?wsdl"><con:part><con:url>http://localhost:8081/ws/GetMessages/1/rivtabp21?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="GetMessagesInteraction" targetNamespace="urn:riv:itintegration:messagebox:GetMessages:1:rivtabp21" xmlns:itr="urn:riv:itintegration:registry:1" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tjsi="urn:riv:itintegration:messagebox:GetMessagesInitiator:1" xmlns:tjsr="urn:riv:itintegration:messagebox:GetMessagesResponder:1" xmlns:tns="urn:riv:itintegration:messagebox:GetMessages:1:rivtabp21" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xs:schema targetNamespace="urn:riv:itintegration:messagebox:GetMessages:1:rivtabp21">
      <xs:import namespace="urn:riv:itintegration:messagebox:GetMessagesResponder:1" schemaLocation="http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=GetMessagesResponder_1.0.xsd"/>
      <xs:import namespace="urn:riv:itintegration:registry:1" schemaLocation="http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="GetMessagesResponse">
    <wsdl:part element="tjsr:GetMessagesResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="GetMessagesRequest">
    <wsdl:part element="itr:LogicalAddress" name="LogicalAddress">
      <wsdl:documentation>The organisation number of the National Service Platform</wsdl:documentation>
    </wsdl:part>
    <wsdl:part element="tjsr:GetMessages" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="GetMessagesResponderInterface">
    <wsdl:operation name="GetMessages">
      <wsdl:input message="tns:GetMessagesRequest"></wsdl:input>
      <wsdl:output message="tns:GetMessagesResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="GetMessagesResponderBinding" type="tns:GetMessagesResponderInterface">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="GetMessages">
      <soap:operation soapAction="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages" style="document"/>
      <wsdl:input>
        <soap:header message="tns:GetMessagesRequest" part="LogicalAddress" use="literal"></soap:header>
        <soap:body parts="parameters" use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="GetMessagesResponderService">
    <wsdl:port binding="tns:GetMessagesResponderBinding" name="GetMessagesResponderPort">
      <soap:address location="http://localhost:8081/ws/GetMessages/1/rivtabp21"/>
    </wsdl:port>
  </wsdl:service>
  <xs:annotation>
    <xs:documentation>Tjänsteinteraktionens namn: GetMessagesInteraction
			 Beskrivning: 
			   Get messages from the messagebox
			 Revisioner: 
			 Tjänstedomän: itintegration:messagebox
			 Tjänsteinteraktionstyp: Fråga-Svar
			 WS-profil: RIVTABP21
			 Förvaltas av: Sveriges Kommuner och Landsting</xs:documentation>
  </xs:annotation>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=GetMessagesResponder_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:GetMessagesResponder:1" version="1.0" xmlns:mb="urn:riv:itintegration:messagebox:1" xmlns:reg="urn:riv:itintegration:registry:1" xmlns:tns="urn:riv:itintegration:messagebox:GetMessagesResponder:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="urn:riv:itintegration:messagebox:1" schemaLocation="http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd"/>
  <xs:element name="GetMessages" type="tns:GetMessagesType"/>
  <xs:element name="GetMessagesResponse" type="tns:GetMessagesResponseType"/>
  <xs:complexType name="GetMessagesType">
    <xs:annotation>
      <xs:documentation>Request the given messages</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="messageIds" type="xs:long"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ResponseType">
    <xs:sequence>
      <xs:element name="messageId" type="xs:long"/>
      <xs:element name="targetOrganization" type="reg:LogicalAddressType"/>
      <xs:element name="serviceContractType" type="reg:ServiceContractType"/>
      <xs:element name="message" type="xs:string"/>
      <xs:any namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="GetMessagesResponseType">
    <xs:annotation>
      <xs:documentation>If the resultCode is ResultCodeEnum:OK, the messages field
                contains a list of (id, serviceContract, message body) tuples,
                where the message body is an xml-document representing the
                web-service call for the given id.
                Otherwise, the responses list is empty</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="result" type="mb:ResultType"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="responses" type="tns:ResponseType"/>
      <xs:any namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:1" version="1.0" xmlns:reg="urn:riv:itintegration:registry:1" xmlns:tns="urn:riv:itintegration:messagebox:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: Gemensamma element för itintegration_messagebox
            Revisioner:
            2013-09-09: Initial version (Mats Olsson, Callista Enterprise AB)</xs:documentation>
  </xs:annotation>
  <xs:complexType name="MessageMetaType">
    <xs:sequence>
      <xs:element name="messageId" type="xs:long"/>
      <xs:element name="targetOrganization" type="reg:LogicalAddressType"/>
      <xs:element name="serviceContractType" type="xs:string"/>
      <xs:element name="messageSize" type="xs:long"/>
      <xs:element name="arrivalTime" type="xs:dateTime"/>
      <xs:element name="status" type="tns:MessageStatusType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="MessageStatusType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="RECEIVED"/>
      <xs:enumeration value="RETRIEVED"/>
      <xs:enumeration value="DELETED"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ResultType">
    <xs:annotation>
      <xs:documentation>Gemensam resultatkod. Om code är OK är övriga fält tomma.
                Om code är "INFO" eller ERROR kan information skickas i errorId och/eller
                errorMessage.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="tns:ResultCodeEnum"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorId" type="xs:int"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorMessage" type="xs:string"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="ResultCodeEnum">
    <xs:restriction base="xs:string">
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
      <xs:enumeration value="INFO"/>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/GetMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:registry:1" version="1.0" xmlns="urn:riv:itintegration:registry:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: 	Grundl��ggande informationsobjekt f��r dom��nen itintegration:registry (adressering av tj��nster)
			
			Revisionshistorik: 2011-06-27 Mats Ekhammar, Callista Enterprise AB
				Added ServiceContractType
			
			Datum:			2011-05-04
			Beskrivning:	Initial version
			F��rfattare:		marcus.krantz@callistaenterprise.se</xs:documentation>
  </xs:annotation>
  <xs:element name="LogicalAddress" type="LogicalAddressType"/>
  <xs:element name="ServiceContract" type="ServiceContractType"/>
  <xs:simpleType name="LogicalAddressType">
    <xs:annotation>
      <xs:documentation>Defines the type for logical address according to national reference architecture.
				Superseeds wsa:To as type for logical address header in RIVTA 2.1.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string"/>
  </xs:simpleType>
  <xs:complexType name="ServiceContractType">
    <xs:annotation>
      <xs:documentation>Type which describes a service contract. Used in interaction GetSupportedServiceContracts.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ServiceContractNamespace" type="xs:anyURI"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/message-ws/ws/GetMessages/1/rivtabp21</con:endpoint><con:endpoint>${endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:endpoint>http://localhost:8081/ws/GetMessages/1/rivtabp21</con:endpoint></con:endpoints><con:operation isOneWay="false" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages" name="GetMessages" bindingOperationName="GetMessages" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request-hsaid-1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
         <!--1 or more repetitions:-->
         <urn1:messageIds>1</urn1:messageIds>
         <urn1:messageIds>2</urn1:messageIds>
         <!--You may enter ANY elements at this point-->
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:call><con:call name="Request-TestCase1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
         <!--1 or more repetitions:-->
         <urn1:messageIds>1</urn1:messageIds>
         <urn1:messageIds>2</urn1:messageIds>
         <!--You may enter ANY elements at this point-->
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="DeleteMessagesResponderBinding" type="wsdl" bindingName="{urn:riv:itintegration:messagebox:DeleteMessages:1:rivtabp21}DeleteMessagesResponderBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/ws/DeleteMessages/1/rivtabp21?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/ws/DeleteMessages/1/rivtabp21?wsdl"><con:part><con:url>http://localhost:8081/ws/DeleteMessages/1/rivtabp21?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="DeleteMessagesInteraction" targetNamespace="urn:riv:itintegration:messagebox:DeleteMessages:1:rivtabp21" xmlns:itr="urn:riv:itintegration:registry:1" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tjsi="urn:riv:itintegration:messagebox:DeleteMessagesInitiator:1" xmlns:tjsr="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1" xmlns:tns="urn:riv:itintegration:messagebox:DeleteMessages:1:rivtabp21" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xs:schema targetNamespace="urn:riv:itintegration:messagebox:DeleteMessages:1:rivtabp21">
      <xs:import namespace="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1" schemaLocation="http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=DeleteMessagesResponder_1.0.xsd"/>
      <xs:import namespace="urn:riv:itintegration:registry:1" schemaLocation="http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="DeleteMessagesRequest">
    <wsdl:part element="itr:LogicalAddress" name="LogicalAddress">
      <wsdl:documentation>The organisation number of the National Service Platform</wsdl:documentation>
    </wsdl:part>
    <wsdl:part element="tjsr:DeleteMessages" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="DeleteMessagesResponse">
    <wsdl:part element="tjsr:DeleteMessagesResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="DeleteMessagesResponderInterface">
    <wsdl:operation name="DeleteMessages">
      <wsdl:input message="tns:DeleteMessagesRequest"></wsdl:input>
      <wsdl:output message="tns:DeleteMessagesResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="DeleteMessagesResponderBinding" type="tns:DeleteMessagesResponderInterface">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="DeleteMessages">
      <soap:operation soapAction="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages" style="document"/>
      <wsdl:input>
        <soap:header message="tns:DeleteMessagesRequest" part="LogicalAddress" use="literal"></soap:header>
        <soap:body parts="parameters" use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="DeleteMessagesResponderService">
    <wsdl:port binding="tns:DeleteMessagesResponderBinding" name="DeleteMessagesResponderPort">
      <soap:address location="http://localhost:8081/ws/DeleteMessages/1/rivtabp21"/>
    </wsdl:port>
  </wsdl:service>
  <xs:annotation>
    <xs:documentation>Tjänsteinteraktionens namn: DeleteMessagesInteraction
			 Beskrivning: 
			   Delete messages from the messagebox
			 Revisioner: 
			 Tjänstedomän: itintegration:messagebox
			 Tjänsteinteraktionstyp: Fråga-Svar
			 WS-profil: RIVTABP21
			 Förvaltas av: Sveriges Kommuner och Landsting</xs:documentation>
  </xs:annotation>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=DeleteMessagesResponder_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1" version="1.0" xmlns:mb="urn:riv:itintegration:messagebox:1" xmlns:tns="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="urn:riv:itintegration:messagebox:1" schemaLocation="http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd"/>
  <xs:element name="DeleteMessages" type="tns:DeleteMessagesType"/>
  <xs:element name="DeleteMessagesResponse" type="tns:DeleteMessagesResponseType"/>
  <xs:complexType name="DeleteMessagesType">
    <xs:annotation>
      <xs:documentation>Request deletion of the identified messages</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element maxOccurs="unbounded" minOccurs="1" name="messageIds" type="xs:long"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="DeleteMessagesResponseType">
    <xs:annotation>
      <xs:documentation>If the message was ResultCodeEnum:OK, all messages were deleted</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="result" type="mb:ResultType"/>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="deletedIds" type="xs:long"/>
      <xs:any namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=../../core_components/itintegration_messagebox_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:messagebox:1" version="1.0" xmlns:reg="urn:riv:itintegration:registry:1" xmlns:tns="urn:riv:itintegration:messagebox:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: Gemensamma element för itintegration_messagebox
            Revisioner:
            2013-09-09: Initial version (Mats Olsson, Callista Enterprise AB)</xs:documentation>
  </xs:annotation>
  <xs:complexType name="MessageMetaType">
    <xs:sequence>
      <xs:element name="messageId" type="xs:long"/>
      <xs:element name="targetOrganization" type="reg:LogicalAddressType"/>
      <xs:element name="serviceContractType" type="xs:string"/>
      <xs:element name="messageSize" type="xs:long"/>
      <xs:element name="arrivalTime" type="xs:dateTime"/>
      <xs:element name="status" type="tns:MessageStatusType"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="MessageStatusType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="RECEIVED"/>
      <xs:enumeration value="RETRIEVED"/>
      <xs:enumeration value="DELETED"/>
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="ResultType">
    <xs:annotation>
      <xs:documentation>Gemensam resultatkod. Om code är OK är övriga fält tomma.
                Om code är "INFO" eller ERROR kan information skickas i errorId och/eller
                errorMessage.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="code" type="tns:ResultCodeEnum"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorId" type="xs:int"/>
      <xs:element maxOccurs="1" minOccurs="0" name="errorMessage" type="xs:string"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="ResultCodeEnum">
    <xs:restriction base="xs:string">
      <xs:enumeration value="OK"/>
      <xs:enumeration value="ERROR"/>
      <xs:enumeration value="INFO"/>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/DeleteMessages/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:registry:1" version="1.0" xmlns="urn:riv:itintegration:registry:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: 	Grundl��ggande informationsobjekt f��r dom��nen itintegration:registry (adressering av tj��nster)
			
			Revisionshistorik: 2011-06-27 Mats Ekhammar, Callista Enterprise AB
				Added ServiceContractType
			
			Datum:			2011-05-04
			Beskrivning:	Initial version
			F��rfattare:		marcus.krantz@callistaenterprise.se</xs:documentation>
  </xs:annotation>
  <xs:element name="LogicalAddress" type="LogicalAddressType"/>
  <xs:element name="ServiceContract" type="ServiceContractType"/>
  <xs:simpleType name="LogicalAddressType">
    <xs:annotation>
      <xs:documentation>Defines the type for logical address according to national reference architecture.
				Superseeds wsa:To as type for logical address header in RIVTA 2.1.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string"/>
  </xs:simpleType>
  <xs:complexType name="ServiceContractType">
    <xs:annotation>
      <xs:documentation>Type which describes a service contract. Used in interaction GetSupportedServiceContracts.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ServiceContractNamespace" type="xs:anyURI"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/message-ws/ws/DeleteMessages/1/rivtabp21</con:endpoint><con:endpoint>${endpoint}/DeleteMessages/1/rivtabp21</con:endpoint><con:endpoint>http://localhost:8081/ws/DeleteMessages/1/rivtabp21</con:endpoint></con:endpoints><con:operation isOneWay="false" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages" name="DeleteMessages" bindingOperationName="DeleteMessages" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request-hsaid-1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="hsaid-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
         <!--1 or more repetitions:-->
         <urn1:messageIds>1</urn1:messageIds>
         <urn1:messageIds>2</urn1:messageIds>
         <!--You may enter ANY elements at this point-->
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="PingForConfigurationResponderBinding" type="wsdl" bindingName="{urn:riv:itintegration:monitoring:PingForConfiguration:1:rivtabp21}PingForConfigurationResponderBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?wsdl"><con:part><con:url>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="PingForConfigurationInteraction" targetNamespace="urn:riv:itintegration:monitoring:PingForConfiguration:1:rivtabp21" xmlns:rgy="urn:riv:itintegration:registry:1" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tjsi="urn:riv:itintegration:monitoring:PingForConfigurationInitiator:1" xmlns:tjsr="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1" xmlns:tns="urn:riv:itintegration:monitoring:PingForConfiguration:1:rivtabp21" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <wsdl:types>
    <xs:schema targetNamespace="urn:riv:itintegration:monitoring:PingForConfiguration:1:rivtabp21">
      <xs:import namespace="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1" schemaLocation="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=PingForConfigurationResponder_1.0.xsd"/>
      <xs:import namespace="urn:riv:itintegration:registry:1" schemaLocation="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd"/>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="PingForConfigurationRequest">
    <wsdl:part element="rgy:LogicalAddress" name="LogicalAddress">
      <xs:annotation>
        <xs:documentation>The org nr of AB Inera (SE165565594230-1000)</xs:documentation>
      </xs:annotation>
    </wsdl:part>
    <wsdl:part element="tjsr:PingForConfiguration" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="PingForConfigurationResponse">
    <wsdl:part element="tjsr:PingForConfigurationResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="PingForConfigurationResponderInterface">
    <wsdl:operation name="PingForConfiguration">
      <wsdl:input message="tns:PingForConfigurationRequest"></wsdl:input>
      <wsdl:output message="tns:PingForConfigurationResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="PingForConfigurationResponderBinding" type="tns:PingForConfigurationResponderInterface">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="PingForConfiguration">
      <soap:operation soapAction="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration" style="document"/>
      <wsdl:input>
        <soap:header message="tns:PingForConfigurationRequest" part="LogicalAddress" use="literal"></soap:header>
        <soap:body parts="parameters" use="literal"/>
      </wsdl:input>
      <wsdl:output>
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="PingForConfigurationResponderService">
    <wsdl:port binding="tns:PingForConfigurationResponderBinding" name="PingForConfigurationResponderPort">
      <soap:address location="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21"/>
    </wsdl:port>
  </wsdl:service>
  <xs:annotation>
    <xs:documentation>Tjänsteinteraktionens namn: PingForConfigurationInteraction
			 Beskrivning: 
			   A service interaction for monitoring and querying the configuration of service endpoints. 
			   The idea is that each module that exposes RIV TA web services should also expose a service according to this contract.
			   It should report the configuration (version etc) of the module/system/component. The fact that this is a well-known 
			   service without side effects and no or insignificant resource consumption, it is also use-ful for monitoring the health
			   of the module. If this service fails, it is likely that also the other services exposed by the same module will fail.
			 Revisioner: 
			 Tjänstedomän: itintegration:monitoring
			 Tjänsteinteraktionstyp: Fråga-Svar
			 WS-profil: RIVTABP21
			 Förvaltas av: Center för E-hälsa i Samverkan</xs:documentation>
  </xs:annotation>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part><con:part><con:url>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=PingForConfigurationResponder_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to Sveriges Kommuner och Landsting under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1" version="1.0" xmlns:core="urn:riv:itintegration:monitoring:1" xmlns:tns="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:import namespace="urn:riv:itintegration:monitoring:1" schemaLocation="http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=../../core_components/itintegration_monitoring_1.0.xsd"/>
  <xs:element name="PingForConfiguration" type="tns:PingForConfigurationType"/>
  <xs:element name="PingForConfigurationResponse" type="tns:PingForConfigurationResponseType"/>
  <xs:complexType name="PingForConfigurationType">
    <xs:sequence>
      <xs:element name="serviceContractNamespace" type="xs:anyURI">
        <xs:annotation>
          <xs:documentation>The namespace qualifier of the service contract to ping (which is also the namespace of the service request element).
			This element is primarilly of interest to a forwarding intermediary.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="logicalAddress" type="xs:anyURI">
        <xs:annotation>
          <xs:documentation>The logical address to ping.
			This element is primarilly of interest to a forwarding intermediary.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="PingForConfigurationResponseType">
    <xs:sequence>
      <xs:element name="version" type="xs:string">
        <xs:annotation>
          <xs:documentation>Version of the service component that responds.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="pingDateTime" type="core:TS">
        <xs:annotation>
          <xs:documentation>Date and time for the ping response.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element maxOccurs="unbounded" minOccurs="0" name="configuration" type="tns:ConfigurationType">
        <xs:annotation>
          <xs:documentation>Optional list of environment information from the service component.</xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="ConfigurationType">
    <xs:annotation>
      <xs:documentation>Example of configuration information (Named by the name element): jvm/.net version, operating system version, local system time, last start/restart</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="name" type="xs:string"/>
      <xs:element name="value" type="xs:string"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=../../core_components/itintegration_monitoring_1.0.xsd</con:url><con:content><![CDATA[<!--Licensed to Sveriges Kommuner och Landsting under one
 or more contributor license agreements. See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership. Sveriges Kommuner och Landsting licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License. You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied. See the License for the
 specific language governing permissions and limitations
 under the License.-->
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:monitoring:1" version="1.0" xmlns:tns="urn:riv:itintegration:monitoring:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:simpleType name="TS">
    <xs:annotation>
      <xs:documentation>Regexp declaration for timestamp in the format: YYYYMMDDHHMMSS</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[1-9]{1}[0-9]{3}(0[1-9]{1}|1[0-2]{1})([0-2]{1}[0-9]{1}|3[0-1]{1})([0-1]{1}[0-9]{1}|2[0-3]{1})[0-5]{1}[0-9]{1}[0-5]{1}[0-9]{1}"/>
    </xs:restriction>
  </xs:simpleType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part><con:part><con:url>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21?xsd=../../core_components/itintegration_registry_1.0.xsd</con:url><con:content><![CDATA[<xs:schema elementFormDefault="qualified" targetNamespace="urn:riv:itintegration:registry:1" version="1.0" xmlns="urn:riv:itintegration:registry:1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:annotation>
    <xs:documentation>Beskrivning: 	Grundl��ggande informationsobjekt f��r dom��nen itintegration:registry (adressering av tj��nster)
			
			Revisionshistorik: 2011-06-27 Mats Ekhammar, Callista Enterprise AB
				Added ServiceContractType
			
			Datum:			2011-05-04
			Beskrivning:	Initial version
			F��rfattare:		marcus.krantz@callistaenterprise.se</xs:documentation>
  </xs:annotation>
  <xs:element name="LogicalAddress" type="LogicalAddressType"/>
  <xs:element name="ServiceContract" type="ServiceContractType"/>
  <xs:simpleType name="LogicalAddressType">
    <xs:annotation>
      <xs:documentation>Defines the type for logical address according to national reference architecture.
				Superseeds wsa:To as type for logical address header in RIVTA 2.1.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string"/>
  </xs:simpleType>
  <xs:complexType name="ServiceContractType">
    <xs:annotation>
      <xs:documentation>Type which describes a service contract. Used in interaction GetSupportedServiceContracts.</xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ServiceContractNamespace" type="xs:anyURI"/>
      <xs:any maxOccurs="unbounded" minOccurs="0" namespace="##other" processContents="lax"/>
    </xs:sequence>
  </xs:complexType>
</xs:schema>]]></con:content><con:type>http://www.w3.org/2001/XMLSchema</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/message-ws/ws/PingForConfiguration/1/rivtabp21</con:endpoint><con:endpoint>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21</con:endpoint></con:endpoints><con:operation isOneWay="false" action="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration" name="PingForConfiguration" bindingOperationName="PingForConfiguration" type="Request-Response" inputName="" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>ignored</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:PingForConfiguration>
         <urn1:serviceContractNamespace>ignored</urn1:serviceContractNamespace>
         <urn1:logicalAddress>also ignored</urn1:logicalAddress>
         <!--You may enter ANY elements at this point-->
      </urn1:PingForConfiguration>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration"/><con:wsrmConfig version="1.2"/></con:call><con:call name="TP11: Ping"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>ignored</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:PingForConfiguration>
         <urn1:serviceContractNamespace>ignored</urn1:serviceContractNamespace>
         <urn1:logicalAddress>also ignored</urn1:logicalAddress>
         <!--You may enter ANY elements at this point-->
      </urn1:PingForConfiguration>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:testSuite name="ExploreTestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="SimpleFullTestCase" searchProperties="true" id="5226395d-24b4-4a75-8632-e8cebca63316"><con:settings/><con:testStep type="request" name="Submit1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="Submit1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterQuestionResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>org1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Submit2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="Submit2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterQuestionResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>org1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="Submit3"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="Submit3" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterAnswerResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>org2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion3</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="ListMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="ListMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <!--Optional:- ->
         <urn1:targetOrganization>?</urn1:targetOrganization>
         <!- -Zero or more repetitions:- ->
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>?</urn:ServiceContractNamespace>
            <!- -You may enter ANY elements at this point- ->
         </urn1:serviceContractTypes>
         <!- -You may enter ANY elements at this point-->
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromList"><con:settings/><con:config><script>// Extract the ids from the ListMessages step and modify the GetMessages
// request

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "ListMessages#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "GetMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:GetMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

// return request.getXml() // debug
</script></con:config></con:testStep><con:testStep type="request" name="GetMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="GetMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
        <urn1:messageIds>69</urn1:messageIds>
        <urn1:messageIds>70</urn1:messageIds>
        <urn1:messageIds>71</urn1:messageIds>
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromGet"><con:settings/><con:config><script>// Extract the ids from the GetMessage step and modify the DeleteMessage
// request.
// 

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "GetMessages#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"
response.namespaces["ns1"] = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "DeleteMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:DeleteMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:DeleteMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns1:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

// just for debugging
return request.getXml()
</script></con:config></con:testStep><con:testStep type="request" name="DeleteMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>DeleteMessagesResponderBinding</con:interface><con:operation>DeleteMessages</con:operation><con:request name="DeleteMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#argetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
        <urn1:messageIds>69</urn1:messageIds>
        <urn1:messageIds>70</urn1:messageIds>
        <urn1:messageIds>71</urn1:messageIds>
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddMessageCase" searchProperties="true" id="9256f9aa-e0e2-41ec-a88a-4a9f1335aa13"><con:settings/><con:testStep type="groovy" name="GenerateMessages"><con:settings/><con:config><script>// Generate messages for the script
// Uses disabled script and runs it

// generates a random number of a random set of messages to a random org for a random target system

def serviceContracts = [
	"urn:riv:insuranceprocess:healthreporting:FakeServiceContract1:3",
	"urn:riv:insuranceprocess:healthreporting:FakeServiceContract2:3",
	"urn:riv:insuranceprocess:healthreporting:FakeServiceContract3:3",
]

// first is system id, followed by valid org ids
def recivingSystems = [
	[ "sys1", "org1", "org2", "org3" ],
	[ "sys2", "org4", "org5", "org6" ],
	[ "sys3", "org7", "org8", "org9" ],
]

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
log.info "req"
def suite = context.testCase.testSuite
log.info suite
def addMessageCase = suite.getTestCaseByName("AddMessageCase")

def addMessageStep = addMessageCase.getTestStepByName("AddMessage")
log.info addMessageStep

def req = addMessageStep.request
log.info req

def request = groovyUtils.getXmlHolder( "AddMessage#Request" )
log.info "req2"
log.info request

request.namespaces["soapenv"] = "http://schemas.xmlsoap.org/soap/envelope/"

// create namespaces for all the service contracts
for (int i = 0; i &lt; serviceContracts.length; i++) {
	request.namespaces["sc" + i] = serviceContracts[i] 
}

def node = request.getDomNode("//soapenv:Body")

log.info "Body " + node.getTagName()

def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

int n = Math.random() *10
log.info "Dump " + n + " messages"


def rng = new java.util.Random()

def doc = node.getOwnerDocument()

/*
while (n-- > 0) {
	// log.info "Dump message " + n
	def scIndex = rng.nextInt(serviceContracts.length)
	def sysIndex = rng.nextInt(recievingSystems.length)
	def orgIndex = rng.nextInt(receivingSystems[sysIndex].length-1)

	def sc = serviceContracts[scIndex]
	def sys = receivingSystems[sysIndex][0]
	def org = receivingSystems[sysIndex][orgIndex+1]

	scNode = doc.createElementNS(sc, "content")
	node.appendChild(scNode)
	
	request.updateProperty()
	testRunner.
}
*/</script></con:config></con:testStep><con:testStep type="request" name="AddMessage"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="AddMessage" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/message-ws/ws/ReceiveMessage/hsaid-1</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:RegisterMedicalCertificateResponder:3">
   <soapenv:Header>
      <urn:LogicalAddress>org1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
      <ser:Question>TheQuestion1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>sourceSystem1</con:name><con:value>source1-hsaid</con:value></con:property><con:property><con:name>targetSystem1</con:name><con:value>target1-hsaid</con:value></con:property><con:property><con:name>endpoint</con:name><con:value>http://localhost:8081/ws</con:value></con:property><con:property><con:name>endpoint-for-localhost-for-c/p</con:name><con:value>http://localhost:8081/ws</con:value></con:property><con:property><con:name>endpoint-for-test-system-for c/p</con:name><con:value>http://192.168.19.11:8080/message/ws</con:value></con:property><con:property><con:name>endpoint-for-test-vp-for c/p</con:name><con:value>http://192.168.19.11:8080/message/ws</con:value></con:property></con:properties></con:testSuite><con:testSuite name="AcceptanceTestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ListTestCase" searchProperties="true" id="cb45fee6-c19c-410d-8263-5465a0db18ec"><con:description>Test the various ways of listing the contents of the database.
Sets up 4 messages directed to (Mottagning1,Mottagning2) x tjänstekontrakt (Question,Answer)</con:description><con:settings/><con:testStep type="request" name="TP0: SubmitM1(Q-Mottagning-1)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="TP0: SubmitM1(Q-Mottagning-1)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Question>Question1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM2(A-Mottagning-1)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM2(A-Mottagning-1)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-2" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Answer>Answer1</ser:Answer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM3(Q-Mottagning-2)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM3(Q-Mottagning-2)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-3" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Question>Question2</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM4(A-Mottagning-2)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM4(A-Mottagning-2)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-4" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Answer>Answer2</ser:Answer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP1: List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP1: List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 4 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 Mottagning-1"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - Mottagning-1-tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'] and //ns3:serviceContractType[contains(text(),'Question')])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP2: List-Mottagning-1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP2: List-Mottagning-1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:targetOrganizations>Mottagning-1</urn1:targetOrganizations>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 2 Mottagning-1"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP3: List-TkQuestion"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP3: List-TkQuestion" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1</urn:ServiceContractNamespace>
        </urn1:serviceContractTypes>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count( //ns3:serviceContractType[contains(text(),'Question')])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP4: List-Mottagningar"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP4: List-Mottagningar" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:targetOrganizations>Mottagning-1</urn1:targetOrganizations>
         <urn1:targetOrganizations>Mottagning-2</urn1:targetOrganizations>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match 2 Mottagning-1"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP5: List-Tks"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP5: List-Tks" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1</urn:ServiceContractNamespace>
        </urn1:serviceContractTypes>
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1</urn:ServiceContractNamespace>
        </urn1:serviceContractTypes>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count( //ns3:serviceContractType[contains(text(),'Question')])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 tkAnswer"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count( //ns3:serviceContractType[contains(text(),'Answer')])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP6: List-Mottagning-1-TkQuestion"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP6: List-Mottagning-1-TkQuestion" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:targetOrganizations>Mottagning-1</urn1:targetOrganizations>
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1</urn:ServiceContractNamespace>
        </urn1:serviceContractTypes>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Mottagning-1 - tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'] and //ns3:serviceContractType[contains(text(),'Question')])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 1 answer"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP7: List-Mottagning-2-TkAnswer"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP7: List-Mottagning-2-TkAnswer" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
         <urn1:targetOrganizations>Mottagning-2</urn1:targetOrganizations>
         <urn1:serviceContractTypes>
            <urn:ServiceContractNamespace>urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1</urn:ServiceContractNamespace>
        </urn1:serviceContractTypes>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Mottagning-1 - tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-2'] and //ns3:serviceContractType[contains(text(),'Answer')])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>true</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 1 answer"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromList"><con:settings/><con:config><script>// Extract the ids from the ListMessages step and modify the GetMessages
// request

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "TP1: List-NoArgs#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "GetMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:GetMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

return request.getXml() // debug
</script></con:config></con:testStep><con:testStep type="request" name="GetMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="GetMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
        <urn1:messageIds>256</urn1:messageIds>
        <urn1:messageIds>257</urn1:messageIds>
        <urn1:messageIds>258</urn1:messageIds>
        <urn1:messageIds>259</urn1:messageIds>
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="TP9: Compare contents"><con:settings/><con:config><script>// Ensure that the contents of the message body matches the original message

import org.custommonkey.xmlunit.Diff;

// grab message body string from message
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "GetMessages#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"
response.namespaces["ns1"] = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"
response.namespaces["ns2"] = "urn:riv:itintegration:registry:1"

def tkQ = "urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1"
def tkA = "urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1"

//def msgStrings = response.getNodeValues("//ns2:ServiceContractNamespace")
//def msgStrings = response.getNodeValues("//ns1:serviceContractType")
//def msgStrings = response.getNodeValues("//ns1:ServiceContractType")
def msgStrings = response.getNodeValues("//ns1:message")


for (msg in msgStrings) {
	def msgHolder = groovyUtils.getXmlHolder(msg)
	def node = msgHolder.getDomNode("/").getFirstChild()
	// avoid any text nodes...
	while ( node.getNodeType() != org.w3c.dom.Node.ELEMENT_NODE ) {
		node = node.getNextSibling()	
	}
	def ns =  node.getNamespaceURI()
	def origXmlAsString= null
	if (ns == tkQ) {
		origXmlAsString = msg
	} else if (ns == tkA ) {
		origXmlAsString = msg
		log.info "Found " + ns	
	}
	assert origXmlAsString != null
	def diff = new Diff(msg, origXmlAsString)
	// use similar to ignore any ordering differences
	assert diff.similar();
}

</script></con:config></con:testStep><con:testStep type="request" name="TP10: List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP10: List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 4 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP11: PingForConfiguration"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PingForConfigurationResponderBinding</con:interface><con:operation>PingForConfiguration</con:operation><con:request name="TP11: PingForConfiguration" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>ignored</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:PingForConfiguration>
         <urn1:serviceContractNamespace>ignored</urn1:serviceContractNamespace>
         <urn1:logicalAddress>also ignored</urn1:logicalAddress>
      </urn1:PingForConfiguration>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="XPath Match" name="XPath Match -version Messagebox"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:monitoring:PingForConfigurationResponder:1';
declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
count(//ns1:version[contains(text(), "Messagebox")])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - queueSize 4"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:monitoring:PingForConfigurationResponder:1';
declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
//ns1:configuration/ns1:name[contains(text(), "currentQueueSize")]/../ns1:value</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromGet"><con:settings/><con:config><script>// Extract the ids from the GetMessage step and modify the DeleteMessage
// request.
// 

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "GetMessages#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"
response.namespaces["ns1"] = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "TP12: DeleteMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:DeleteMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:DeleteMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns1:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

// just for debugging
return request.getXml()
</script></con:config></con:testStep><con:testStep type="request" name="TP12: DeleteMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>DeleteMessagesResponderBinding</con:interface><con:operation>DeleteMessages</con:operation><con:request name="TP12: DeleteMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#argetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
        <urn1:messageIds>256</urn1:messageIds>
        <urn1:messageIds>257</urn1:messageIds>
        <urn1:messageIds>258</urn1:messageIds>
        <urn1:messageIds>259</urn1:messageIds>
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP13: List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="TP13: List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 0 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP14: PingForConfiguration"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>PingForConfigurationResponderBinding</con:interface><con:operation>PingForConfiguration</con:operation><con:request name="TP14: PingForConfiguration" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/ws/PingForConfiguration/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>ignored</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:PingForConfiguration>
         <urn1:serviceContractNamespace>ignored</urn1:serviceContractNamespace>
         <urn1:logicalAddress>also ignored</urn1:logicalAddress>
      </urn1:PingForConfiguration>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="XPath Match" name="XPath Match -version Messagebox"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:monitoring:PingForConfigurationResponder:1';
declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
count(//ns1:version[contains(text(), "Messagebox")])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - no queueSize (size 0)"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:monitoring:PingForConfigurationResponder:1';
declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
count(//ns1:configuration/ns1:name[contains(text(), "currentQueueSize")])</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - deliverys > 0"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:monitoring:PingForConfigurationResponder:1';
declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
count(//ns1:configuration/ns1:name[contains(text(), "todaysDeliveryCount")])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:monitoring:PingForConfigurationResponder:1:PingForConfiguration"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="EmptyDatabase" searchProperties="true" id="092be70d-a9ca-4d3f-bf4b-59e4f9326a9a"><con:description>Used to deliver all messages in the database and empty it.</con:description><con:settings/><con:testStep type="request" name="List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>INERA</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromList"><con:settings/><con:config><script>// Extract the ids from the ListMessages step and modify the GetMessages
// request

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "List-NoArgs#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "GetMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:GetMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

return request.getXml() // debug
</script></con:config></con:testStep><con:testStep type="request" name="GetMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="GetMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
        <urn1:messageIds>267</urn1:messageIds>
        <urn1:messageIds>268</urn1:messageIds>
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromGet"><con:settings/><con:config><script>// Extract the ids from the GetMessage step and modify the DeleteMessage
// request.
// 

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "GetMessages#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"
response.namespaces["ns1"] = "urn:riv:itintegration:messagebox:GetMessagesResponder:1"

assert "OK" == response.getNodeValue("//ns:code")

def request = groovyUtils.getXmlHolder( "DeleteMessages#Request" )
def requestNs = "urn:riv:itintegration:messagebox:DeleteMessagesResponder:1"
request.namespaces["ns"] = requestNs

def node = request.getDomNode("//ns:DeleteMessages")

// clean up the children (soup-ui doesn't seem to respect my empty list)
def firstChild = null
while ((firstChild = node.getFirstChild()) != null) {
	node.removeChild(firstChild)
}

// build the child list
def doc = node.getOwnerDocument()

for( id in response.getNodeValues( "//ns1:messageId" )) {
	def child = doc.createElementNS(requestNs, "messageIds")
	child.appendChild(doc.createTextNode(id.toString()));
	node.appendChild(doc.createTextNode("\n        ")) // this is just to make it readable...
	node.appendChild(child)
}
node.appendChild(doc.createTextNode("\n      "))

// apply the changes (don't let the name fool you; it updates the
// contents of the request, not just its properties...
request.updateProperty()

// just for debugging
return request.getXml()
</script></con:config></con:testStep><con:testStep type="request" name="DeleteMessages"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>DeleteMessagesResponderBinding</con:interface><con:operation>DeleteMessages</con:operation><con:request name="DeleteMessages" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#argetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
        <urn1:messageIds>267</urn1:messageIds>
        <urn1:messageIds>268</urn1:messageIds>
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="DeleteTest" searchProperties="true" id="c98c89d3-a6e7-48e0-b9e4-968d94e91f2a"><con:settings/><con:testStep type="request" name="TP0: SubmitM1(Q-Mottagning-1)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="TP0: SubmitM1(Q-Mottagning-1)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-1" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Question>Question1</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM2(A-Mottagning-1)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM2(A-Mottagning-1)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-2" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-1</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Answer>Answer1</ser:Answer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM3(Q-Mottagning-2)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM3(Q-Mottagning-2)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-3" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateQuestion:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Question>Question2</ser:Question>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="SubmitM4(A-Mottagning-2)"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ReceiveMessageHttpServiceSoapBinding</con:interface><con:operation>invoke</con:operation><con:request name="SubmitM4(A-Mottagning-2)" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-mule_correlation_id" value="correlationId-4" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ReceiveMessage/${#TestSuite#targetSystem}</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:ser="urn:riv:insuranceprocess:healthreporting:ReceiveMedicalCertificateAnswer:1">
   <soapenv:Header>
      <urn:LogicalAddress>Mottagning-2</urn:LogicalAddress>
  </soapenv:Header>
  <soapenv:Body>
  <!-- TODO: insert correct tk here -->
      <ser:Answer>Answer2</ser:Answer>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.messagebox.skltp.se/ReceiveMessagesImpl/invoke"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 4 answers"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:messageId)</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - 2 Mottagning-1"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'])</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - Mottagning-1-tkQuestion"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
count(//ns3:targetOrganization[text()='Mottagning-1'] and //ns3:serviceContractType[contains(text(),'Question')])</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="groovy" name="ExtractIdsFromList"><con:settings/><con:config><script>// Extract the ids from the ListMessages step and modify the GetMessages
// request

def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )
def response = groovyUtils.getXmlHolder( "List-NoArgs#Response" )
response.namespaces["ns"] = "urn:riv:itintegration:messagebox:1"

assert "OK" == response.getNodeValue("//ns:code")

// set property ids
def i = 1
for( id in response.getNodeValues( "//ns:messageId" )) {
	testRunner.testCase.setPropertyValue("msgId" + (i++), id)
}
</script></con:config></con:testStep><con:testStep type="request" name="TP1: GetMsg1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="TP1: GetMsg1" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
        <urn1:messageIds>${#TestCase#msgId1}</urn1:messageIds>
       </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP1.1: GetMsg1+nonexistent"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="TP1.1: GetMsg1+nonexistent" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
        <urn1:messageIds>${#TestCase#msgId1}</urn1:messageIds>
        <urn1:messageIds>-1</urn1:messageIds>
       </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="TP2:DeleteMsg1,Msg2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>DeleteMessagesResponderBinding</con:interface><con:operation>DeleteMessages</con:operation><con:request name="TP2:DeleteMsg1,Msg2" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="x-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#argetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:riv:itintegration:registry:1" xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>?</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
        <urn1:messageIds>${#TestCase#msgId1}</urn1:messageIds>
        <urn1:messageIds>${#TestCase#msgId2}</urn1:messageIds>
        <urn1:messageIds>272</urn1:messageIds>
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:code</path><content>ERROR</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match - ErrorId 2"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:errorId</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties><con:property><con:name>msgId1</con:name><con:value>269</con:value></con:property><con:property><con:name>msgId2</con:name><con:value>270</con:value></con:property><con:property><con:name>msgId3</con:name><con:value>271</con:value></con:property><con:property><con:name>msgId4</con:name><con:value>272</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 4" searchProperties="true"><con:settings/><con:testStep type="request" name="List-NoArgs"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>ListMessagesResponderBinding</con:interface><con:operation>ListMessages</con:operation><con:request name="List-NoArgs" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="xx-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://192.168.19.10:20000/vp/itintegration/messagebox/ListMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:ListMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>5565594230</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:ListMessages>
      </urn1:ListMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match - Result Ok"><con:configuration><path>declare namespace soap='http://schemas.xmlsoap.org/soap/envelope/';
declare namespace ns2='urn:riv:itintegration:registry:1';
declare namespace ns3='urn:riv:itintegration:messagebox:1';
declare namespace ns1='urn:riv:itintegration:messagebox:ListMessagesResponder:1';
//ns3:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:ListMessagesResponder:1:ListMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="GetMessage"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>GetMessagesResponderBinding</con:interface><con:operation>GetMessages</con:operation><con:request name="GetMessage" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="xx-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#targetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://192.168.19.10:20000/vp/itintegration/messagebox/GetMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope 
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:GetMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>5565594230</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:GetMessages>
         <urn1:messageIds>410</urn1:messageIds>
      </urn1:GetMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:GetMessagesResponder:1:GetMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="DeleteMessage"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>DeleteMessagesResponderBinding</con:interface><con:operation>DeleteMessages</con:operation><con:request name="DeleteMessage" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="xx-rivta-original-serviceconsumer-hsaid" value="${#TestSuite#argetSystem}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://192.168.19.10:20000/vp/itintegration/messagebox/DeleteMessages/1/rivtabp21</con:endpoint><con:request><![CDATA[<soapenv:Envelope
xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
xmlns:urn="urn:riv:itintegration:registry:1"
xmlns:urn1="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1">
   <soapenv:Header>
      <urn:LogicalAddress>5565594230</urn:LogicalAddress>
   </soapenv:Header>
   <soapenv:Body>
      <urn1:DeleteMessages>
        <urn1:messageIds>409</urn1:messageIds>
      </urn1:DeleteMessages>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response" name="SOAP Response"/><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='urn:riv:itintegration:messagebox:1';
//ns1:code</path><content>OK</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="urn:riv:itintegration:messagebox:DeleteMessagesResponder:1:DeleteMessages"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>sourceSystem1</con:name><con:value>source1-hsaid</con:value></con:property><con:property><con:name>targetSystem1</con:name><con:value>target1-hsaid</con:value></con:property><con:property><con:name>endpoint</con:name><con:value>http://localhost:8081/ws</con:value></con:property><con:property><con:name>endpoint-for-localhost-for-c/p</con:name><con:value>http://localhost:8081/ws</con:value></con:property><con:property><con:name>endpoint-for-test-system-for c/p</con:name><con:value>http://192.168.19.11:8080/message/ws</con:value></con:property><con:property><con:name>endpoint-for-test-vp-for c/p</con:name><con:value>http://192.168.19.10:20000/vp</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>